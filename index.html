<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            position: relative;
            background: black;
        }
        #copyIcon{
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }
    </style>
</head>

<body>
    <h1>Disable-PnpDevice -InstanceId 'USB\VID_0951&PID_1666\0C9D9210E3AEE371498F0008' -Confirm:$false</h1>
    <h1>powershell -Command "Start-Process powershell -ArgumentList '-c \"Disable-PnpDevice -InstanceId \\\"USB\VID_0951&PID_1666\0C9D9210E3AEE371498F0008\\\" -Confirm:$false\"' -Verb RunAs"</h1>
    <p id="req"></p>
    

    <div id="copyIcon"></div>
    <script>
        function copyText(text) {
            const textarea = document.createElement("textarea");
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand("copy");
            document.body.removeChild(textarea);
        }
        document.getElementById("copyIcon").addEventListener("click", function() {
            copyText(`powershell -Command "Start-Process powershell -ArgumentList '-c \\"Disable-PnpDevice -InstanceId \\\\\\"USB\\VID_0951&PID_1666\\0C9D9210E3AEE371498F0008\\\\\\" -Confirm:$false\\"' -Verb RunAs"`);
        });



        const urlObj = new URL(window.location.href);
        const params = new URLSearchParams(urlObj.search);
        const paramsObj = {};
        params.forEach((value, key) => {
            paramsObj[key] = value;
        });



        if (paramsObj.hasOwnProperty("run")) {
            console.log("xxxxxxxxxx")
            // fetch('https://664aa391a300e8795d427b86.mockapi.io/temp/1')
            // .then(v => v.json())
            // .then(data => {
            //     document.querySelector('#req').textContent = !data.on
            //     return fetch("https://664aa391a300e8795d427b86.mockapi.io/temp/1", {
            //         method: 'PUT',
            //         headers: {
            //             'Content-Type': 'application/json'
            //         },
            //         body: JSON.stringify({ on: !data.on }) // Đảo ngược giá trị của 'on'
            //     });
            // })
        }
        else{
            fetch("https://664aa391a300e8795d427b86.mockapi.io/temp/1", {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ on: false })
            }).then(v=> v.json()).then(data =>  document.querySelector('#req').textContent = data.on)
        }
    </script>
</body>

</html>
